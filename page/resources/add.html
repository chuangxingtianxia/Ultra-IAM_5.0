<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<!-- 告诉浏览器响应屏幕宽度 -->
	<meta content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport"/>
	<title>添加资源</title>
	<!-- Bootstrap 3.3.6 -->
	<link href="../../static/assets/bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css">
	<!-- 表单验证 -->
	<link href="../../static/assets/bootstrapvalidator/css/bootstrapValidator.css" rel="stylesheet" type="text/css">
	<!-- Font Awesome 字体图标 -->
	<link href="../../static/assets/font-awesome/css/font-awesome.css" rel="stylesheet" type="text/css">
	<!--表单下拉框select样式插件-->
	<link href="../../static/assets/select2/css/select2.css" rel="stylesheet" type="text/css">
	<!-- 表格插件 -->
	<link href="../../static/assets/datatables/css/jquery.dataTables.css" rel="stylesheet", type="text/css">
	<!--下拉插件，实现下拉菜单功能-->
	<link rel="stylesheet" type="text/css" href="../../static/assets/dropdown/css/jquery.dropdown.css">
	<!--表单元素样式插件-->
	<link href="../../static/assets/icheck/skins/default/blue.css" rel="stylesheet"  type="text/css">
	<link href="../../static/assets/icheck/ext/skins/default/niceCheck.css" rel="stylesheet"  type="text/css">
	<!--树插件-->
	<link href="../../static/assets/dhtmlxtree/dhtmlxtree.css" rel="stylesheet" type="text/css">
	<!--日期插件-->
	<link href="../../static/assets/pikaday/css/pikaday.css" rel="stylesheet" type="text/css">
	<!--地区选择-->
	<link href="../../static/assets/areaSelector/css/areaStyle.css" rel="stylesheet" type="text/css">
	<!-- CSS初始化 -->
	<link href="../../static/css/base.css" rel="stylesheet" type="text/css">
	<!-- 公用样式 -->
	<link href="../../static/css/main.css" rel="stylesheet" type="text/css">
	<!--  让IE8支持HTML5元素和媒体查询  -->
	<!-- 警告：如果通过本地file：//打开页面 ，Respond.js将无法正常工作 -->
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

</head>
<body>

<div class="content-warp">
	<div class="content-header">
		<div class="breadcrumbs">
			<span>首页</span>
			<span class="divider">/</span>
			<a href="#/bcc/instance/list">审批列表</a>
			<span class="divider">/</span>
			<span class="active">添加资源</span>
		</div>
	</div>
	<div class="page-tabs-warp">
		<ul class="page-tabs">
			<li class="selected"><a href="" >添加资源</a></li>
		</ul>

	</div>
	<div class="content" style="padding: 20px;">
		<div class="form-info-wrap">
			<div class="form-info-content">
				<div id="aa"  class="form-section">
					<div class="form-section-title-wrap">
						<h2 class="form-section-title"> <span>驱动信息</span></h2>
					</div>
					<div class="form-section-content row">
						<div class="form-item col-xs-12">
							<div class="form-label"><!--<em>*</em>-->资源驱动&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-check">
										<input name="assetType" type="radio" data-imgurl="../../static/img/type-windows32.png" data-text="其他"/>
										<input name="assetType" type="radio" data-imgurl="../../static/img/type-windows32.png" data-text="网络设备"/>
										<input name="assetType" type="radio" data-imgurl="../../static/img/type-unix32.png" data-text="Unix主机" checked/>
										<input name="assetType" type="radio" data-imgurl="../../static/img/type-windows32.png" data-text="Windows主机"/>
										<input name="assetType" type="radio" data-imgurl="../../static/img/type-unix32.png" data-text="数据库"/>
										<input name="assetType" type="radio" data-imgurl="../../static/img/type-unix32.png" data-text="网元"/>
									</div>
								</div>
							</div>


						</div>
						<div class="form-item col-xs-6">
							<div class="form-label"><!--<em>*</em>-->选择厂商:&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-check">
										<input name="microsoft" type="radio"  data-text="SUN"/>
										<input name="microsoft" type="radio"  data-text="Ubuntu"/>
										<input name="microsoft" type="radio"  data-text="HP" checked/>
										<input name="microsoft" type="radio"  data-text="SCO"/>
										<input name="microsoft" type="radio"  data-text="IBM"/>
										<input name="microsoft" type="radio"  data-text="其他厂商"/>
									</div>
								</div>
							</div>
						</div>

						<div class="form-item col-xs-12">
							<div class="form-label"><span>选择驱动&nbsp;&nbsp;：</span></div>
							<div class="form-item-control">
								<div class="form-group">
									<ul id="group_list" class="list-group">
										<li class="list-group-item">
											<div class="list-group-item-heading">
												<b>UNIX</b>
											</div>
											<ul class="list-group-sub-list">
												<li>
													<input name="driver-name" type="radio"  data-text="UNIX->HP-UX(Telnet)"/>

												</li>
												<li>
													<input name="driver-name" type="radio"  data-text="UNIX->HP-UX(SSH)"/>

												</li>
											</ul>
										</li>
										<li class="list-group-item">
											<div class="list-group-item-heading">
												<b>UNIX</b>
											</div>
											<ul class="list-group-sub-list">
												<li>
													<input name="driver-name" type="radio"  data-text="UNIX->HP-UX-SUDO(SSH)"/>
												</li>
												<li>
													<input name="driver-name" type="radio"  data-text="UNIX->HP-UX-SUDO(Telnet)"/>

												</li>
											</ul>
										</li>
									</ul>
								</div>
							</div>
						</div>

					</div>
				</div>
				<div id="bb"  class="form-section">
					<div class="form-section-title-wrap">
						<h2 class="form-section-title"> <span>基本信息</span></h2>
					</div>
					<div class="form-section-content row">
						<div class="form-item col-xs-6">
							<div class="form-label">IP地址&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"   type="text">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">NET前IP&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"   type="text">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">资源状态&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-select">
										<select class="select" name="clientType">
											<option value="0" >正常</option>
											<option value="1" >工程中</option>
											<option value="2">退网</option>
										</select>
									</div>
								</div>
							</div>
						</div>

						<!--<div class="form-item col-xs-6">
							<div class="form-label">帐号自学习&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-check">

										<input name="study" type="radio"  data-text="男" checked  />
										<input name="study" type="radio"  data-text="女" />

									</div>
								</div>
							</div>
						</div>-->

						<div class="form-item col-xs-12">
							<div class="form-label"><!--<em>*</em>-->所属资源组&nbsp;&nbsp;:</div>
							<div class="form-item-control ">
								<div class="form-group">

									<div class="asset-group-wrap" >
										<div class="asset-group-tree" style="display: none">
											<!--<div id="group_tree"></div>-->
										</div>
										<div class="asset-group-selected-list" style="margin:0;">
											<ul id="asset_group_selected">
												<li >
													<div class="asset-group-item-wrap">
														<span>资源组ABCDVGDDKJKFDFSDFD</span>
														<a href="javascript: void(0);" class="remove-asset-group-action" id="defaultUser"><i class="fa fa-times"></i></a>
													</div>
												</li>
												<li id="addUser">
													<div class="asset-group-item-wrap">
														<span>添加</span>
														<a href="javascript: void(0);"><i class="fa fa-plus" aria-hidden="true"></i></a>
													</div>
												</li>
											</ul>
										</div>
									</div>
									<div class="form-note">请至少选择一个组</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">责任人&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"  type="text">
									</div>
								</div>
							</div>
						</div>

						<div class="form-item col-xs-6">
							<div class="form-label">厂家标识&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"  type="text">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">产品系列标识&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"  type="text">
									</div>
								</div>
							</div>
						</div>

						<div class="form-item col-xs-6">
							<div class="form-label">资源专业&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"  type="text">
									</div>
								</div>
							</div>
						</div>

						<div class="form-item col-xs-6">
							<div class="form-label">MAC地址&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"  type="text">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">型号&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"  type="text">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">端口&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"  type="text">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">进程&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"  type="text">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">服务&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"  type="text">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">软件&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"  type="text">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">资产分类&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"  type="text">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">安全级别&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"  type="text">
									</div>
								</div>
							</div>
						</div>




						<div class="form-item col-xs-12">
							<div class="form-label"><span>描述&nbsp;&nbsp;：</span></div>
							<div class="form-item-control">

								<div class="form-group">
									<div class="form-input">
										<textarea class="form-control"  name="clientDescription" id="clientDescription"></textarea>
									</div>
								</div>
							</div>
						</div>


					</div>
				</div>
				<div id="cc"  class="form-section">
					<div class="form-section-title-wrap">
						<h2 class="form-section-title"> <span>同步信息</span></h2>
					</div>
					<div class="form-section-content row">
						<div class="form-item col-xs-12">
							<div class="form-label">帐号自学习&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-check">

										<input name="study" type="radio"  data-text="是" checked  />
										<input name="study" type="radio"  data-text="否" />

									</div>
								</div>
							</div>
						</div>

						<div class="form-item col-xs-6">
							<div class="form-label">账号密码策略&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-select">
										<select class="select" name="clientType">
											<option value="0" >复杂</option>
											<option value="1" >任意</option>
										</select>
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">管理员账号&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"  type="text">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">管理员密码&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"  type="password">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">确认密码&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"  type="password">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">用户提示符&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control"  type="text">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">驱动端口号&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control" value="5678"  type="text">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">资源回显时间&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control" value="200"  type="text">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">超时时间&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control" value="30" type="text">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">重试次数&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-input">
										<input class="form-control" value="3"　type="text">
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label"><!--从帐号-->同步服务器&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-select">
										<select class="select" name="clientType">
											<option value="0" >driver</option>
											<option value="1" >driver1</option>
											<option value="2">driver2</option>
										</select>
									</div>
								</div>
							</div>
						</div>


						</div>
					</div>
				<div id="dd"  class="form-section">
					<div class="form-section-title-wrap">
						<h2 class="form-section-title"> <span>访问信息</span></h2>
					</div>
					<div class="form-section-content row">
						<div class="form-item col-xs-6">
							<div class="form-label"><!--从帐号-->堡垒主机名称&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-select">
										<select class="select" name="clientType">
											<option value="0" >driver</option>
											<option value="1" >driver1</option>
											<option value="2">driver2</option>
										</select>
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label">通讯方式&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-check">

										<input name="isvpn" type="radio" data-text="RDP" checked  />
										<input name="isvpn"  type="radio"  data-text="FTP" />
										<input name="isvpn"  type="radio"  data-text="SFTP" />

									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-12">
							<div class="form-label"><span>单点登录属性&nbsp;&nbsp;：</span></div>
							<div class="form-item-control">

								<div class="form-group">
									<div class="form-input">
										<textarea class="form-control"  name="clientDescription" id="clientDescription"></textarea>
									</div>
								</div>
							</div>
						</div>
						<div class="form-item col-xs-6">
							<div class="form-label"><!--<em>*</em>-->标准业务系统&nbsp;&nbsp;：</div>
							<div class="form-item-control ">
								<div class="form-group form-tree-wrap">
									<div class="form-input">
										<input  type="text" class="form-control" readonly="readonly">
										<b class="arrow">
											<i></i>
										</b>
									</div>
									<div class="form-check-tree">
										<div id="selectTree">

										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="form-item col-xs-6">
							<div class="form-label"><!--从帐号-->指令通道&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-select">
										<select class="select" name="clientType">
											<option value="0" >driver</option>
											<option value="1" >driver1</option>
											<option value="2">driver2</option>
										</select>
									</div>
								</div>
							</div>
						</div>

						<div class="form-item col-xs-12">
							<div class="form-label"><!--从帐号-->客户端配置&nbsp;&nbsp;：</div>
							<div class="form-item-control">
								<div class="form-group">
									<div class="form-client-warp">
										<div class="form-client-header">
											<button class="btn btn-primary" type="button" id="addBtn">
												<i class="fa fa-plus" style=""></i>
												添加
											</button>
											<span style="margin-left: 20px; color: #ccc">请选择可访问该资源的软件</span>
										</div>
										<div class="form-client-body">
											<div class="grid-wrap">
												<table id="datagrid" class="table" cellspacing="0" width="100%"></table>
											</div>
										</div>

									</div>
								</div>
							</div>
						</div>


					</div>
				</div>
			</div>
			<div class="form-tab-wrap">
				<ul class="anchorwaper" >
					<li class="menuItem active"><a  href="#aa">驱动信息</a> </li>
					<li class="menuItem"><a href="#bb">基本信息</a> </li>
					<li class="menuItem"><a href="#cc">同步信息</a> </li>
					<li class="menuItem"><a href="#dd">访问信息</a> </li>
				</ul>
			</div>

		</div>

	</div>
</div>

<div class="layer-footer-wrap">
	<div class="footer-btn">
		<button class="btn btn-primary" type="button" id="save_btn"><i class="fa fa-floppy-o" style=""></i><span>保存</span></button>
		<button class="btn btn-default" type="button" id="resetBtn"><i class="fa fa-ban" style=""></i><span>重置</span></button>
	</div>
</div>
<div class="check-tree-warp">
	<div class="check-tree-title">
		选择
		<span id="closeUsertree">
			<i class="fa fa-close" aria-hidden="true"></i>
		</span>
	</div>
	<div id="group_tree"></div>
</div>

<!-- jQuery -->
<script src="../../static/assets/jQuery/jquery-1.12.4.min.js"></script>
<!--bootstrap框架-->
<script src="../../static/assets/bootstrap/js/bootstrap.js" type="text/javascript"></script>
<!--layer-->
<script src="../../static/assets/layer/layer.js" type="text/javascript"></script>
<!--表单检验-->
<script src="../../static/assets/bootstrapvalidator/js/bootstrapValidator.min.js" type="text/javascript"></script>

<!--表单元素样式插件-->
<script src="../../static/assets/icheck/icheck.js" type="text/javascript"></script>
<script src="../../static/assets/icheck/ext/niceCheck.js" type="text/javascript"></script>
<script src="../../static/assets/select2/js/select2.full.js" type="text/javascript"></script>
<!--日期插件-->
<script src="../../static/assets/moment/moment-with-locales.js" type="text/javascript"></script>
<script src="../../static/assets/pikaday/pikaday.js" type="text/javascript"></script>
<!--树插件-->
<script src="../../static/assets/dhtmlxtree/dhtmlxtree.js" type="text/javascript"></script>
<!--表格插件-->
<script src="../../static/assets/datatables/js/jquery.dataTables.min.js" type="text/javascript"></script>
<!--下拉插件，实现下拉菜单功能-->
<script type="text/javascript" src="../../static/assets/dropdown/jquery.dropdown.js" ></script>
<!--地区选择-->
<script src="../../static/assets/areaSelector/js/charfirstPinyin.js" type="text/javascript"></script>
<script src="../../static/assets/areaSelector/js/area.js" type="text/javascript"></script>
<!--公用js-->
<script type="text/javascript" src="../../static/scripts/common/common.js"></script>
<script type="text/javascript" src="../../static/scripts/common/datatableCommon.js"></script>
<script type="text/javascript" src="../../static/scripts/common/layerCommon.js"></script>

<!--独立js-->
<script type="text/javascript" src="js/stickUp.js"></script>
<script type="text/javascript" src="js/manager.js"></script>
<script type="text/javascript">
	jQuery(function($) {
		$(document).ready( function() {
			$('.form-tab-wrap').stickUp({
				parts: {
					0:'aa',
					1:'bb',
					2:'cc',
					3:'dd'

				},
				itemClass: 'menuItem',
				itemHover: 'active',
				topMargin: 'auto'
			});
		});
	});
</script>

<script>
	$(function(){
		$(".checkbox-inline input").each(function(){
			var self = $(this),
					label = self.next(),
					label_text = label.text();

			label.remove();

			self.iCheck({
				checkboxClass: 'icheckbox_line-blue',
				radioClass: 'iradio_line-blue',
				insert: '<div class="icheck_line-icon"></div>' + label_text
			});
		});
	})
		$(":checkbox").niceCheck();
		$('input[name="assetType"]').niceCheck({
			render: function(ckbox) {
				var $ckbox = $(ckbox);
				$ckbox.wrap('<label class=\"asset-type-wrap pull-left ' + ( $ckbox.is(':checked') ? 'checked' : '' ) + '\" ></label>')
						.before('<img src=\"' + $ckbox.data('imgurl') + '\" width=\"32\" height=\"32\">')
						.before('<span class=\"asset-type-name\">' + $ckbox.data('text') + '</span>' )
			}
		});
		$('input[name="assetType"]').on('ifChecked',function(){
			$(this).parents('asset-type-wrap').addClass("checked");
		})
		$('input[name="assetType"]').on('ifUnchecked',function(){
			$(this).parents('asset-type-wrap').removeClass("checked");
		})
		$(":radio").niceCheck(

		);
		$('.select').select2();



		//初始化组织机构树
		var tree = new dhtmlXTreeObject("group_tree", "100%", "100%", 0);
		tree.setImagePath("../../static/assets/dhtmlxtree/imgs/dhxtree_skyblue3/");
		tree.enableCheckBoxes(1);
		//tree.enableThreeStateCheckboxes(true);

		tree.loadXML("../../data/tree.xml");


		tree.attachEvent("onCheck", function(id,state){
			var name = tree.getItemText(id);
			if(state) {
				addAssetGroup(id, name);
			} else {
				removeAssetGroupFromList(id);
			}

		});

		//添加资产组
		function addAssetGroup(id, name) {
			var htmlStr = "<li><div class=\"asset-group-item-wrap\">" +
					"<span>" + name + "</span>" +
					"<a id=\"" + id + "\" class=\"remove-asset-group-action\" href=\"javascript: void(0);\"><i class=\"fa fa-times\"></i></a>" +
					"</div></li>";

			$("#addUser").before(htmlStr);
		}

		//移除资产组
		function removeAssetGroupFromList(id) {
			var $el = $("#asset_group_selected #" + id).parent().parent();
			$el.remove();
		}

		function removeAssetGroupFromTree(id) {
			tree.setCheck(id, false);
		}

		$("#asset_group_selected").on("click", ".remove-asset-group-action", function(){
			var _id = $(this).attr("id");
			removeAssetGroupFromList(_id);
			removeAssetGroupFromTree(_id);
		})

		$("#addUser").on("click","a",function(){
			$(".check-tree-warp").animate({right:'0px'})
		})

		$("#closeUsertree").on("click",function(){
			$(".check-tree-warp").animate({right:'-200px'})
		})
	})
</script>
<script>

	createTree('selectTree');

	function createTree (treeId){
		//初始化组织机构树
		var readioTree = new dhtmlXTreeObject(treeId, "100%", "100%", 0);
		readioTree.setImagePath("../../static/assets/dhtmlxtree/imgs/dhxtree_skyblue3/");
		readioTree.setOnClickHandler(clickHandler);// 设置节点点击事件
		readioTree.setOnCheckHandler(checkHandler);// 设置节点选中事件
		readioTree.enableRadioButtons(true);// 设置显示单选按钮
		readioTree.loadXML("../../data/tree.xml");

		var selectedItemID;
		var selectedItemName;
		function checkHandler(id, model) {
			//var text = tree.getItemText(id);
			// $("#checkUUName").val(text);
			var select = readioTree.getAllChecked();
			var selectArr = select.split(",");
			for(var i = 0 ; i < selectArr.length;i++){
				if(id != selectArr[i]){
					readioTree.setCheck(selectArr[i],0);
				}
			}
			selectedItemName= readioTree.getItemText(id);
			readioTree.selectItem(id,true);
			$('#'+treeId).parent().siblings(".form-input").children("input").val(selectedItemName);
			//$(".form-tree-wrap .form-input input").val(selectedItemName);
			$('#'+treeId).parent().hide()

		}


		function clickHandler(id, model) {
			var text = readioTree.getItemText(id);
			readioTree.setCheck(id,true);
			readioTree.enableSingleRadioMode(true, id);
		}
	}


	$('.form-tree-wrap .form-input').on("click",function(){
		$(this).toggleClass("open");
		$(this).siblings('.form-check-tree').toggle();
	})



	$("input[name='loginstyle']").on('ifChecked ifUnchecked', function() {

		if($(this).attr('data-text')==='密码认证'){
			if($(this).is(':checked')){
				$("#setPassword").show()
			}else{
				$("#setPassword").hide()
			}
		}else if($(this).attr('data-text')==='令牌认证'){
			if($(this).is(':checked')){
				$("#setLingpai").show()
			}else{
				$("#setLingpai").hide()
			}
		}

	})
</script>
<script>
	$(document).ready(function(){
		/* 初始化datatables */
		var listSet = {
			"ajax": {
				"url": '../../data/table_data.action',
				/*"type": "POST",
				 "data": function ( d ) {
				 return $.extend( {}, d, {
				 "plan.type": "4", //离线=4

				 } );
				 }*/
			},
			"columnDefs": [{
				"orderable": false,
				"targets": 0
			},{
				"orderable": false,
				"targets":2
			}],
			"order": [[1, 'asc']],
			"lengthChange":false,
			"columns":[

				{ "data": "userId", "title": "软件名称"},
				{ "data": "userName", "title": "支持资源类型"},
				{ "data": "uuid", "title": "操作", "width": "50", "render": optionRender }
			]/*,
			 createdRow: function ( row, data, index ) {
			 if ( index%2 == 0 ) {
			 $(row).addClass( 'tabBg' );
			 }
			 }*/
		};

		var listOption = $.extend(true, {}, dataTableOption, listSet);
		dtable = $("#datagrid").DataTable(listOption);
		// dtable.ajax.url( '../../data/table_data.action' ).load();
		dtable.page.len(5).draw();

		function optionRender(data, type, row, meta) {
			//因为是静态页 需要去json里的数据，所以应用的时候把这些删掉，用下边注释的，只传一个id就行了
			var linNum = meta.row
			return "<a class='delbtn'  onclick=\"delList(this,'#delBtn')\">删除</a>";

			/* return "<a class='editorBtn' onclick=Modify('" + data + "')>编辑</a>" +
			 "<a class='detailBtn' onclick=Detail('" + data + "')>详细</a>";*/
		}

	})
</script>
</body>
</html>
